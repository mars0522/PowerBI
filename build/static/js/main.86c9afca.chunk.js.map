{"version":3,"sources":["GoogleAnalytics.js","Images/loaderpreovp.gif","Home.js","Aes.js","ShowReport.js","NotFound.js","App.js","reportWebVitals.js","index.js"],"names":["designation","vertical","department","funcarea","employeeid","Event","event","name","value","category","ReactGA","set","dimension1","dimension2","dimension3","dimension4","dimension5","action","label","initialize","groupBy","data","key","reduce","acc","x","Home","getUrlParameter","params","getUrlVarsBase64","replace","results","RegExp","exec","atob","decodeURIComponent","state","reports","monthrep","empid","AK","expanded","loading","anchorEl","open","freeze","getcategory","bind","handlePopoverOpen","id","rep2","length","this","setState","target","a","url","fetch","mode","method","then","res","json","result","Toastr","error","vars","window","location","href","m","variable","search","substring","split","i","pair","validate","status","employeeDetails","DESIGNATIONNAME","VERTICALNAME","IIL_DEPT_NAME","FUNCTIONALAREANAME","pageview","console","log","verifyToken","src","LoaderImage","style","position","left","top","transform","alt","textAlign","color","marginTop","borderLeft","borderRight","backgroundColor","reportName","classes","props","showreport","Boolean","className","REPORT_NAME","FK_IIL_MOD_FNS_ID","map","row","MenuItem","onSubmit","e","REPORT_MONTH","type","WORKSPACE_ID","REPORT_ID","USER_NAME","repId","userName","encoded","btoa","to","cardheader","repos","CardHeader","avatar","Avatar","title","Tooltip","REPORT_DESCRIPTION","Typography","gutterBottom","variant","component","fontSize","IconButton","clsx","expand","expandOpen","REPORT_CAT_MAPPING_ID","onClick","aria-expanded","aria-label","REPORT_TYPE","CATEGORY_NAME","aes","textToEncrypt","text","CryptoJS","enc","Utf8","parse","Key","IV","AES","encrypt","keySize","iv","CBC","padding","pad","Pkcs7","toString","Object","entries","report","Grid","container","justify","spacing","item","xs","sm","md","Card","height","root","CardActionArea","Popover","popover","paper","onClose","anchorOrigin","horizontal","transformOrigin","React","Component","withStyles","theme","maxWidth","border","boxShadow","margin","media","paddingTop","marginLeft","transition","transitions","create","duration","shortest","background","fontFamily","join","fontWeight","marginBottom","withTheme","ShowReport","datasetId","embedUrl","authenticationToken","authorizationToken","tableName","columnName","reportId","workspaceId","subordinates","stopRendering","getAuthenticationToken","username","formData","FormData","append","axios","headers","getSubordinates","getAuthorizationToken","reqBody","datasets","Authorization","post","getEmbedUrl","get","handleDataSelected","handleReportLoad","numberArray","stringArray","push","parseInt","filter1","$schema","table","column","operator","values","filterType","models","FilterType","BasicFilter","requireSingleSelection","setFilters","catch","errors","setFullscreen","fullscreen","handleReportRender","handlePageChange","handleTileClicked","apiResponse1","apiResponse","token","data1","lowerTrail","employeeLowerTrail","forEach","ele","EMPLOYEEID","response","reportStyle","width","screen","Fragment","tokenType","accessToken","embedId","reportMode","extraSettings","filterPaneEnabled","navContentPaneEnabled","hideErrors","onLoad","onRender","onSelectData","onPageChange","onTileClicked","onSave","handleReportSave","onButtonClicked","NotFound","fontStyle","App","useLocation","history","useHistory","useEffect","query","URLSearchParams","exact","path","render","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.86c9afca.chunk.js","sourcesContent":["import ReactGA from \"react-ga\";\r\n\r\nlet designation = \"\";\r\nlet vertical = \"\";\r\nlet department = \"\";\r\nlet funcarea = \"\";\r\nlet employeeid = \"\";\r\n\r\n\r\nexport const PageView = () => {\r\n    ReactGA.pageview(\"React/PowerBI\");\r\n}\r\n\r\nexport const initGA = (Designation,Vertical,Department,Funcarea,EmployeeId) => {\r\n    designation = Designation\r\n    vertical = Vertical\r\n    department = Department\r\n    funcarea = Funcarea\r\n    employeeid =EmployeeId\r\n};\r\n\r\nexport const Event = (event,name, value=1) => {\r\n    let category = vertical + '_' + department + '_' + funcarea + '_' + designation;\r\n    ReactGA.set({ dimension1: employeeid });//Employee\r\n    ReactGA.set({ dimension2: vertical });//Vertical\r\n    ReactGA.set({ dimension3: department });//Department\r\n    ReactGA.set({ dimension4: funcarea });//FunctionalArea\r\n    ReactGA.set({ dimension5: designation });//Designation\r\n    ReactGA.event({\r\n        category: category,\r\n        action: 'PowerBI_Click',\r\n        label: 'PowerBi_'+name,\r\n        value: value\r\n    });\r\n};","export default __webpack_public_path__ + \"static/media/loaderpreovp.17269b86.gif\";","import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport \"./Home.css\";\r\nimport Card from \"@material-ui/core/Card\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport CardHeader from \"@material-ui/core/CardHeader\";\r\nimport Toastr from \"toastr\";\r\nimport \"toastr/build/toastr.min.css\";\r\nimport { Tooltip } from \"@material-ui/core\";\r\nimport DescriptionIcon from \"@material-ui/icons/Description\";\r\nimport Popover from \"@material-ui/core/Popover\";\r\nimport CardActionArea from \"@material-ui/core/CardActionArea\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\r\nimport clsx from \"clsx\";\r\nimport ReactGA from \"react-ga\";\r\nimport { PageView, initGA, Event } from \"./GoogleAnalytics\";\r\nimport AES from \"./Aes\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport LoaderImage from \"./Images/loaderpreovp.gif\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nReactGA.initialize(\"UA-28761981-1\"); //GA Trackingak\r\n\r\nconst styles = (theme) => ({\r\n  root: {\r\n    maxWidth: 450,\r\n    border: \"grey solid 1px\",\r\n    boxShadow:\r\n      \"0 2px 2px 0 rgb(0 0 0 / 14%), 0 3px 1px -2px rgb(0 0 0 / 12%), 0 1px 5px 0 rgb(0 0 0 / 20%);\",\r\n    \"&:hover\": {\r\n      boxShadow: \"0 16px 70px -12.125px rgba(0,0,0,0.3)\",\r\n    },\r\n    margin: \"-8px 10px 8px 10px\",\r\n  },\r\n  media: {\r\n    height: 0,\r\n    paddingTop: \"56.25%\", // 16:9\r\n  },\r\n  expand: {\r\n    transform: \"rotate(0deg)\",\r\n    marginLeft: \"auto\",\r\n    transition: theme.transitions.create(\"transform\", {\r\n      duration: theme.transitions.duration.shortest,\r\n    }),\r\n  },\r\n  expandOpen: {\r\n    transform: \"rotate(180deg)\",\r\n  },\r\n  avatar: {\r\n    background: \"#337ab7;\",\r\n  },\r\n  name: {\r\n    fontFamily: ['\"Calibri\"'].join(\",\"),\r\n    fontWeight: \"550\",\r\n    marginBottom: \"0px\",\r\n  },\r\n  popover: {\r\n    backgroundColor: \"rgba(0,0,30,0.4)\",\r\n    spacing: \"100\",\r\n  },\r\n  paper: {},\r\n});\r\n\r\nfunction groupBy(data, key) {\r\n  return data.reduce((acc, x) => {\r\n    acc[x[key]] = [...(acc[x[key]] || []), x];\r\n    return acc;\r\n  }, {});\r\n}\r\nclass Home extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      reports: [],\r\n      monthrep: [],\r\n      empid: 0,\r\n      AK: \"\",\r\n      expanded: false,\r\n      loading: \"initial\",\r\n      anchorEl: null,\r\n      open: false,\r\n      freeze: 0,\r\n    };\r\n    this.getcategory = this.getcategory.bind(this);\r\n    this.handlePopoverOpen = this.handlePopoverOpen.bind(this);\r\n  }\r\n  //open and close popup\r\n  handlePopoverOpen(event, id, rep2, category) {\r\n    if ((rep2 && rep2.length !== 1) || !rep2) {\r\n      this.setState({\r\n        expanded: this.state.expanded ? null : id,\r\n        anchorEl: this.state.anchorEl === event.target ? null : event.target,\r\n      });\r\n    }\r\n  }\r\n  // function to get all the reports from the api\r\n  async getcategory(empid, AK) {\r\n    if (\r\n      !process.env.REACT_APP_REACTENV ||\r\n      process.env.REACT_APP_REACTENV === \"development\"\r\n    ) {\r\n      var url =\r\n        \"http://merp.intermesh.net/index.php/erpreport/report/display?empid=\" +\r\n        empid +\r\n        \"&AK=\" +\r\n        AK;\r\n    } else {\r\n      var url =\r\n        \"https://merp.intermesh.net/index.php/erpreport/report/display?empid=\" +\r\n        empid +\r\n        \"&AK=\" +\r\n        AK;\r\n    }\r\n    try {\r\n      await fetch(url, {\r\n        mode: \"cors\",\r\n        method: \"post\",\r\n      })\r\n        .then((res) => res.json())\r\n        .then(\r\n          (result) => {\r\n            if (result[\"status\"] === 200) {\r\n              this.setState({\r\n                reports: result.data,\r\n                loading: \"false\",\r\n              });\r\n            } else {\r\n              Toastr.error(result[\"message\"]);\r\n              this.setState({\r\n                loading: \"false\",\r\n                freeze: 1,\r\n              });\r\n            }\r\n          },\r\n          (error) => {\r\n            this.setState({\r\n              loading: \"false\",\r\n              freeze: 1,\r\n            });\r\n            // console.log(error);\r\n            Toastr.error(\"There is some error while fetching the data\");\r\n            //console.log(\"There is some error while fetching the data\");\r\n          }\r\n        );\r\n    } catch (e) {\r\n      // console.log(e);\r\n    }\r\n  }\r\n\r\n  getUrlParameter = (name) => {\r\n    let params = this.getUrlVarsBase64()[\"W\"];\r\n    name = name.replace(/[\\[]/, \"\\\\[\").replace(/[\\]]/, \"\\\\]\");\r\n    let regex = new RegExp(\"[\\\\?&]\" + name + \"=([^&#]*)\");\r\n    let results = regex.exec(atob(params));\r\n    return results === null\r\n      ? \"\"\r\n      : decodeURIComponent(results[1].replace(/\\+/g, \" \"));\r\n  };\r\n\r\n  getUrlVarsBase64() {\r\n    var vars = {};\r\n    var parts = window.location.href.replace(\r\n      /[?&]+([^=&]+)=([^&]*)/gi,\r\n      function (m, key, value) {\r\n        vars[key] = value;\r\n      }\r\n    );\r\n    return vars;\r\n  }\r\n  getQueryVariable(variable) {\r\n    var query = window.location.search.substring(1);\r\n    var vars = query.split(\"&\");\r\n    for (var i = 0; i < vars.length; i++) {\r\n      var pair = vars[i].split(\"=\");\r\n      if (pair[0] === variable) {\r\n        return pair[1];\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n  \r\n  // api to verify token and set google anaytics paramters\r\n  async verifyToken (empid, AK){\r\n    if (AK.length > 0) {\r\n      let validate = await fetch(\r\n        \"https://merp.intermesh.net/index.php/Userlisting/Employeedetails?empid=\" +\r\n          empid +\r\n          \"&AK=\" +\r\n          AK\r\n      );\r\n      let status = await validate.json();\r\n      if (status.status === \"200\") {\r\n        let designation = status.data.employeeDetails[0].DESIGNATIONNAME;\r\n        let vertical = status.data.employeeDetails[0].VERTICALNAME;\r\n        let department = status.data.employeeDetails[0].IIL_DEPT_NAME;\r\n        let funcarea = status.data.employeeDetails[0].FUNCTIONALAREANAME;\r\n        initGA(designation, vertical, department, funcarea, empid);\r\n      } else {\r\n        Toastr.error(\"You are not authorised to view this page\");\r\n        this.setState({\r\n          loading: false,\r\n          freeze: 1,\r\n        });\r\n        return false;\r\n      }\r\n    } else {\r\n      Toastr.error(\"You are not authorised to view this page. AK problem\");\r\n      this.setState({\r\n        loading: false,\r\n        freeze: 1,\r\n      });\r\n      return false;\r\n    }\r\n  }\r\n  async componentDidMount() {\r\n    PageView(); // GA to track page view\r\n  }\r\n\r\n  async componentWillMount() {\r\n    //console.log(\"Env : \" + process.env.REACT_APP_REACTENV);\r\n    this.setState({ loading: \"true\" }); // to show loader\r\n    var empid;\r\n    var AK;\r\n    empid = this.getUrlParameter(\"empid\");\r\n    AK = this.getUrlParameter(\"AK\");\r\n\r\n    console.log(empid);\r\n    console.log(AK);\r\n    this.setState({\r\n      empid: empid,\r\n      AK: AK,\r\n    });\r\n    await this.getcategory(empid, AK);\r\n    await this.verifyToken(empid, AK);\r\n  }\r\n\r\n  render() {\r\n    if (this.state.loading === \"true\") {\r\n      return (\r\n        <img\r\n          src={LoaderImage}\r\n          style={{\r\n            position: \"absolute\",\r\n            left: \"50%\",\r\n            top: \"50%\",\r\n            transform: \"translate(-50%, -50%)\",\r\n          }}\r\n          alt=\"Loader\"\r\n        />\r\n      );\r\n    }\r\n    if (this.state.reports.length === 0 && this.state.freeze !== 1)\r\n      return (\r\n        <div\r\n          style={{\r\n            textAlign: \"center\",\r\n            color: \"#2e3192\",\r\n            marginTop: \"16px\",\r\n            borderLeft: \"6px solid red\",\r\n            borderRight: \"6px solid red\",\r\n            backgroundColor: \"#fdd\",\r\n          }}\r\n        >\r\n          <h3>\r\n            Restriction! You don't have permission for any of the reports.\r\n            Please take permission to access reports.\r\n          </h3>\r\n        </div>\r\n      );\r\n    const reportName = groupBy(this.state.reports, \"REPORT_TYPE\");\r\n    // group json data absed on report_type\r\n\r\n    const { classes } = this.props;\r\n    const { anchorEl, expanded } = this.state;\r\n    const open = Boolean(anchorEl);\r\n    const id = open ? \"simple-popover\" : undefined;\r\n\r\n    const showreport = (rep2, category) => {\r\n\r\n\r\n      if (rep2.length > 1) {\r\n        return (\r\n          <div>\r\n            <ul>\r\n              <span>\r\n                <h4 className=\"heading1\">{rep2[0].REPORT_NAME}</h4>\r\n              </span>\r\n              { rep2[0].FK_IIL_MOD_FNS_ID !=='1243' \r\n                ? rep2.map((row) => {\r\n                    return (\r\n                      <MenuItem>\r\n                        <form\r\n                          action=\"https://weberp6.intermesh.net:444/reports/powerbi/getreport\"\r\n                          method=\"post\"\r\n                          onSubmit={(e) => {\r\n                            Event(\r\n                              \"ReportClick\",\r\n                              category +\r\n                                \"_\" +\r\n                                rep2[0].REPORT_NAME +\r\n                                \"_\" +\r\n                                row.REPORT_MONTH\r\n                            );\r\n                          }}\r\n                          target=\"_blank\"\r\n                        >\r\n                          <button\r\n                            type=\"submit\"\r\n                            name=\"submit\"\r\n                            value={row.REPORT_MONTH}\r\n                            className=\"btn-link\"\r\n                          >\r\n                            {row.REPORT_MONTH}\r\n                          </button>\r\n                          <input\r\n                            type=\"hidden\"\r\n                            name=\"reportname\"\r\n                            value={row.REPORT_NAME}\r\n                          />\r\n                          <input\r\n                            type=\"hidden\"\r\n                            name=\"workspaceid\"\r\n                            value={row.WORKSPACE_ID}\r\n                          />\r\n                          <input\r\n                            type=\"hidden\"\r\n                            name=\"reportid\"\r\n                            value={row.REPORT_ID}\r\n                          />\r\n                          <input\r\n                            type=\"hidden\"\r\n                            name=\"username\"\r\n                            value={row.USER_NAME}\r\n                          />\r\n                          <input\r\n                            type=\"hidden\"\r\n                            name=\"AK\"\r\n                            value={this.state.AK}\r\n                          />\r\n                          <input\r\n                            type=\"hidden\"\r\n                            name=\"empid\"\r\n                            value={this.state.empid}\r\n                          />\r\n                        </form>\r\n                      </MenuItem>\r\n                    );\r\n                  })\r\n                : rep2.map((row) => {\r\n                    const repId = row.REPORT_ID;\r\n                    const userName = row.USER_NAME;\r\n                    const overrider = 5275;\r\n                    const employeeid = overrider; \r\n                    const AK =\r\n                      \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiI1Mjc1IiwiZXhwIjoxNjUyMzQ0NTQzLCJpYXQiOjE2NTIyNTgxNDMsImlzcyI6IkVNUExPWUVFIn0.WYqENIzx0hkmli2xXi-Bq1jPPen5qw4uOkb93RguRm8\"\r\n                    const url = `https://localhost:3000/?reportid=${repId}&username=${userName}&empid=${employeeid}&tableName=Structure&columnName=Employee%20ID&AK=${AK}`;\r\n                    // console.log(url);\r\n                    const encoded = btoa(url);\r\n                    return (\r\n                      <MenuItem>\r\n                        <Link to={`/showreport?X=${encoded}`}>\r\n                          <button\r\n                            type=\"submit\"\r\n                            name=\"submit\"\r\n                            value={row.REPORT_MONTH}\r\n                            className=\"btn-link\"\r\n                          >\r\n                            {row.REPORT_MONTH}\r\n                          </button>\r\n                        </Link>\r\n                      </MenuItem>\r\n                    );\r\n                  })}\r\n            </ul>\r\n          </div>\r\n        );\r\n      }\r\n    };\r\n    const cardheader = (rep2, repos, category) => {\r\n      if (rep2.length > 1) {\r\n        // for monthly reports\r\n        return (\r\n          <CardHeader\r\n            avatar={\r\n              <Avatar className={classes.avatar}>\r\n                <DescriptionIcon />\r\n              </Avatar>\r\n            }\r\n            title={\r\n              <Tooltip title={rep2[0].REPORT_DESCRIPTION}>\r\n                <Typography\r\n                  gutterBottom\r\n                  variant=\"h5\"\r\n                  component=\"h3\"\r\n                  className={classes.name}\r\n                  style={{ fontSize: \"21px\", textAlign: \"left\" }}\r\n                >\r\n                  {repos}\r\n                </Typography>\r\n              </Tooltip>\r\n            }\r\n            action={\r\n              <IconButton\r\n                className={clsx(classes.expand, {\r\n                  [classes.expandOpen]:\r\n                    expanded == rep2[0].REPORT_CAT_MAPPING_ID,\r\n                })}\r\n                onClick={(e) =>\r\n                  this.handlePopoverOpen(\r\n                    e,\r\n                    rep2[0].REPORT_CAT_MAPPING_ID,\r\n                    rep2,\r\n                    category\r\n                  )\r\n                }\r\n                aria-expanded={expanded}\r\n                aria-label=\"show more\"\r\n              >\r\n                <ExpandMoreIcon />\r\n              </IconButton>\r\n            }\r\n          />\r\n        );\r\n      } else {\r\n\r\n        console.log('Testing:',rep2[0]);\r\n        if (rep2[0].REPORT_TYPE != \"ERP\") {\r\n          // for single reports\r\n          let params = this.getUrlVarsBase64()[\"W\"];\r\n\r\n          if (rep2[0].CATEGORY_NAME === \"FSF(CSD/KCD)\" && rep2[0].FK_IIL_MOD_FNS_ID==='1243') {\r\n            const repId = rep2[0].REPORT_ID;\r\n            const userName = rep2[0].USER_NAME;\r\n            const overrider = 5275;\r\n            const employeeid = overrider;\r\n            const AK =\r\n              \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiI1Mjc1IiwiZXhwIjoxNjUyMzQ0NTQzLCJpYXQiOjE2NTIyNTgxNDMsImlzcyI6IkVNUExPWUVFIn0.WYqENIzx0hkmli2xXi-Bq1jPPen5qw4uOkb93RguRm8\";\r\n\r\n            const url = `https://localhost:3000/?reportid=${repId}&username=${userName}&empid=${employeeid}&tableName=Structure&columnName=Employee%20ID&AK=${AK}`; \r\n            const encoded = btoa(url);\r\n\r\n            return (\r\n              <Link to={`/showreport?X=${encoded}`}>\r\n                <CardHeader\r\n                  avatar={\r\n                    <Avatar className={classes.avatar}>\r\n                      <DescriptionIcon />\r\n                    </Avatar>\r\n                  }\r\n                  title={\r\n                    <Tooltip title={rep2[0].REPORT_DESCRIPTION}>\r\n                      <Typography\r\n                        gutterBottom\r\n                        variant=\"h5\"\r\n                        component=\"h3\"\r\n                        className={classes.name}\r\n                        style={{ fontSize: \"21px\", textAlign: \"left\" }}\r\n                      >\r\n                        {repos}\r\n                      </Typography>\r\n                    </Tooltip>\r\n                  }\r\n                ></CardHeader>\r\n              </Link>\r\n            );\r\n          }\r\n\r\n          return (\r\n            <form\r\n              action=\"https://weberp6.intermesh.net:444/reports/powerbi/getreport\"\r\n              method=\"post\"\r\n              onSubmit={(e) => {\r\n                Event(\r\n                  \"ReportClick\",\r\n                  category +\r\n                    \"_\" +\r\n                    rep2[0].REPORT_NAME +\r\n                    \"_\" +\r\n                    rep2[0].REPORT_MONTH\r\n                );\r\n              }}\r\n              target=\"_blank\"\r\n            >\r\n              <button type=\"submit\" name=\"submit\" value=\"\" className=\"btn-link\">\r\n                <CardHeader\r\n                  avatar={\r\n                    <Avatar className={classes.avatar}>\r\n                      <DescriptionIcon />\r\n                    </Avatar>\r\n                  }\r\n                  title={\r\n                    <Tooltip title={rep2[0].REPORT_DESCRIPTION}>\r\n                      <Typography\r\n                        gutterBottom\r\n                        variant=\"h5\"\r\n                        component=\"h3\"\r\n                        className={classes.name}\r\n                        style={{ fontSize: \"21px\", textAlign: \"left\" }}\r\n                      >\r\n                        {repos}\r\n                      </Typography>\r\n                    </Tooltip>\r\n                  }\r\n                />\r\n              </button>\r\n              <input\r\n                type=\"hidden\"\r\n                name=\"reportname\"\r\n                value={rep2[0].REPORT_NAME}\r\n              />\r\n              <input\r\n                type=\"hidden\"\r\n                name=\"workspaceid\"\r\n                value={rep2[0].WORKSPACE_ID}\r\n              />\r\n              <input type=\"hidden\" name=\"reportid\" value={rep2[0].REPORT_ID} />\r\n              <input type=\"hidden\" name=\"username\" value={rep2[0].USER_NAME} />\r\n              <input type=\"hidden\" name=\"AK\" value={this.state.AK} />\r\n              <input type=\"hidden\" name=\"empid\" value={this.state.empid} />\r\n            </form>\r\n          );\r\n        } else {\r\n          //for erp reports\r\n          var aes = AES(\"reportid=\" + rep2[0].WORKSPACE_ID);\r\n          var url = \"https://weberp.intermesh.net\" + rep2[0].REPORT_ID + aes;\r\n          return (\r\n            <form\r\n              action={url}\r\n              method=\"post\"\r\n              onSubmit={(e) => {\r\n                Event(\"ReportClick\", category + \"_\" + rep2[0].REPORT_NAME);\r\n              }}\r\n              target=\"_blank\"\r\n            >\r\n              <button type=\"submit\" name=\"submit\" value=\"\" className=\"btn-link\">\r\n                <CardHeader\r\n                  avatar={\r\n                    <Avatar className={classes.avatar}>\r\n                      <DescriptionIcon />\r\n                    </Avatar>\r\n                  }\r\n                  title={\r\n                    <Tooltip title={rep2[0].REPORT_DESCRIPTION}>\r\n                      <Typography\r\n                        gutterBottom\r\n                        variant=\"h5\"\r\n                        component=\"h3\"\r\n                        className={classes.name}\r\n                        style={{ fontSize: \"21px\", textAlign: \"left\" }}\r\n                      >\r\n                        {repos}\r\n                      </Typography>\r\n                    </Tooltip>\r\n                  }\r\n                />\r\n              </button>\r\n            </form>\r\n          );\r\n        }\r\n      }\r\n    };\r\n\r\n    return (\r\n      <div className=\"app\">\r\n        {Object.entries(reportName).map(([name, rep1]) => {\r\n          const reports = groupBy(rep1, \"CATEGORY_NAME\"); // group json data based on category\r\n\r\n          return (\r\n            <div className=\"header-border mt-4\">\r\n              <span>\r\n                <h1 className=\"heading\">{name} Reports</h1>\r\n              </span>\r\n\r\n              {Object.entries(reports).map(([category, rep]) => {\r\n                const report = groupBy(rep, \"REPORT_NAME\"); // group jsaon data based on report name\r\n                return (\r\n                  <div className=\"dep\">\r\n                    <h2>\r\n                      {\" \"}\r\n                      <span className=\"dep-name\">\r\n                        {category == \"ERP\" ? \"\" : category}\r\n                      </span>\r\n                    </h2>\r\n\r\n                    <Grid container justify=\"flex-start\" spacing={2}>\r\n                      {Object.entries(report).map(([repos, rep2]) => {\r\n                        return (\r\n                          <Grid\r\n                            item\r\n                            xs={12}\r\n                            sm={6}\r\n                            md={3}\r\n                            key={rep2[0].REPORT_CAT_MAPPING_ID}\r\n                          >\r\n                            <Card\r\n                              style={{ height: \"100%\" }}\r\n                              className={classes.root}\r\n                              onClick={(e) =>\r\n                                this.handlePopoverOpen(\r\n                                  e,\r\n                                  rep2[0].REPORT_CAT_MAPPING_ID,\r\n                                  rep2,\r\n                                  category\r\n                                )\r\n                              }\r\n                            >\r\n                              <CardActionArea>\r\n                                {cardheader(rep2, repos, category)}\r\n                              </CardActionArea>\r\n                            </Card>\r\n                            <Popover\r\n                              className={classes.popover}\r\n                              classes={{\r\n                                paper: classes.paper,\r\n                              }}\r\n                              open={expanded === rep2[0].REPORT_CAT_MAPPING_ID}\r\n                              onClose={this.handlePopoverOpen}\r\n                              anchorEl={anchorEl}\r\n                              anchorOrigin={{\r\n                                vertical: \"bottom\",\r\n                                horizontal: \"right\",\r\n                              }}\r\n                              transformOrigin={{\r\n                                vertical: \"top\",\r\n                                horizontal: \"center\",\r\n                              }}\r\n                            >\r\n                              {showreport(rep2, category)}\r\n                            </Popover>\r\n                          </Grid>\r\n                        );\r\n                      })}\r\n                    </Grid>\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles, { withTheme: true })(Home);\r\n","import CryptoJS from \"crypto-js\"\r\n\r\nexport default function Aes(textToEncrypt) {\r\n\tlet text = CryptoJS.enc.Utf8.parse(textToEncrypt);\r\n\tlet Key = CryptoJS.enc.Utf8.parse(\"5TGB&YHN7UJM(IK<5TGB&YHN7UJM(IK<\"); //secret key\r\n\tlet IV = CryptoJS.enc.Utf8.parse(\"!QAZ2WSX#EDC4RFV\"); //16 digit\r\n\treturn CryptoJS.AES.encrypt(text, Key, { keySize: 256, iv: IV, mode: CryptoJS.mode.CBC, padding: CryptoJS.pad.Pkcs7 }).toString();\r\n}","import React, { Component } from \"react\";\r\n\r\nimport axios from \"axios\";\r\nimport { models } from \"powerbi-client\";\r\nimport Toastr from \"toastr\";\r\n\r\nimport { Report } from \"powerbi-report-component\";\r\nimport \"toastr/build/toastr.min.css\";\r\n\r\nclass ShowReport extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.report = null; // to store the loaded report's object to perform operations like print, full screen etc..\r\n  }\r\n  state = {\r\n    datasetId: \"\",\r\n    embedUrl: \"\",\r\n    authenticationToken: \"\",\r\n    authorizationToken: \"\",\r\n    tableName: \"\",\r\n    columnName: \"\",\r\n    reportId: \"\",\r\n    workspaceId: \"\",\r\n    userName: \"\",\r\n    freeze: 1,\r\n    employeeid: \"\",\r\n    AK: \"\",\r\n    subordinates: [],\r\n    stopRendering: 0,\r\n  };\r\n\r\n  getUrlParameter = (name) => {\r\n    let params = this.getUrlVarsBase64()[\"X\"];\r\n    name = name.replace(/[\\[]/, \"\\\\[\").replace(/[\\]]/, \"\\\\]\");\r\n    let regex = new RegExp(\"[\\\\?&]\" + name + \"=([^&#]*)\");\r\n    let results = regex.exec(atob(params));\r\n    return results === null\r\n      ? \"\"\r\n      : decodeURIComponent(results[1].replace(/\\+/g, \" \"));\r\n  };\r\n\r\n  getUrlVarsBase64() {\r\n    var vars = {};\r\n    var parts = window.location.href.replace(\r\n      /[?&]+([^=&]+)=([^&]*)/gi,\r\n      function (m, key, value) {\r\n        vars[key] = value;\r\n      }\r\n    );\r\n    return vars;\r\n  }\r\n  getQueryVariable(variable) {\r\n    var query = window.location.search.substring(1);\r\n    var vars = query.split(\"&\");\r\n    for (var i = 0; i < vars.length; i++) {\r\n      var pair = vars[i].split(\"=\");\r\n      if (pair[0] == variable) {\r\n        return pair[1];\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  getAuthenticationToken = (username) => {\r\n    if (\r\n      !process.env.REACT_APP_REACTENV ||\r\n      process.env.REACT_APP_REACTENV === \"development\"\r\n    ) {\r\n      let formData = new FormData();\r\n      formData.append(\"username\", username);\r\n\r\n      const data = axios({\r\n        method: \"post\",\r\n        url: \"http://localhost:80/trustseal/web/index.php/reports/powerbi/get-authentication-token\",\r\n        headers: { \"Content-Type\": \"multipart/form-data\" },\r\n        data: formData,\r\n      });\r\n\r\n      return data;\r\n    } else {\r\n      let formData = new FormData();\r\n      formData.append(\"username\", username);\r\n\r\n      const data = axios({\r\n        method: \"post\",\r\n        url: \"https://weberp6.intermesh.net/reports/powerbi/get-authentication-token\",\r\n        headers: { \"Content-Type\": \"multipart/form-data\" },\r\n        data: formData,\r\n      });\r\n\r\n      return data;\r\n    }\r\n  };\r\n  getSubordinates = () => {\r\n    const empid = this.state.employeeid;\r\n\r\n    const AK = this.state.AK;\r\n\r\n    const data = axios({\r\n      method: \"get\",\r\n      url: `https://merp.intermesh.net/index.php/Userlisting/Employeedetails?empid=${empid}&AK=${AK}`, // Lower Trail\r\n    });\r\n\r\n    return data;\r\n  };\r\n  getAuthorizationToken = async () => {\r\n    const reqBody = {\r\n      datasets: [{ id: this.state.datasetId }],\r\n      reports: [{ id: this.state.reportId }],\r\n    };\r\n\r\n    const headers = {\r\n      \"Content-type\": \"application/json\",\r\n      Authorization: `Bearer ${this.state.authenticationToken}`,\r\n    };\r\n    //console.log(this.state.authenticationToken, reqBody, headers);\r\n    return axios.post(\r\n      \"https://api.powerbi.com/v1.0/myorg/GenerateToken\",\r\n      reqBody,\r\n      { headers: headers }\r\n    );\r\n  };\r\n\r\n  getEmbedUrl = () => {\r\n    const reportId = this.state.reportId;\r\n    const headers = {\r\n      \"Content-type\": \"application/json\",\r\n      Authorization: `Bearer ${this.state.authenticationToken}`,\r\n    };\r\n    return axios.get(`https://api.powerbi.com/v1.0/myorg/reports/${reportId}`, {\r\n      headers: headers,\r\n    });\r\n  };\r\n\r\n  handleDataSelected = (data) => {\r\n    // will be called when some chart or data element in your report clicked\r\n  };\r\n\r\n  handleReportLoad = async (report) => {\r\n    // will be called when report loads:\r\n    // - scripts and data received from server, visuals are rendered on the browser\r\n    // - flickering Power BI logo stops appearing but report is not fully ready to be consumed\r\n\r\n    var numberArray = [];\r\n    let stringArray = this.state.subordinates;\r\n\r\n\r\n    for (var i = 0; i < stringArray.length; i++)\r\n      numberArray.push(parseInt(stringArray[i]));\r\n    \r\n    console.log(\"Underlisting :\", numberArray.length);\r\n    const filter1 = {\r\n      $schema: \"http://powerbi.com/product/schema#basic\",\r\n      target: {\r\n        table: this.state.tableName,\r\n        column: this.state.columnName,\r\n      },\r\n      operator: \"in\",\r\n      values: numberArray,\r\n      filterType: models.FilterType.BasicFilter,\r\n      requireSingleSelection: true,\r\n    };\r\n    report.setFilters([filter1]).catch(function (errors) {\r\n      // console.log(errors);\r\n    });\r\n\r\n    this.report = report; // get the report object from callback and store it.(optional)\r\n  };\r\n\r\n\r\n\r\n  setFullscreen = () => {\r\n    if (this.report) this.report.fullscreen();\r\n  };\r\n\r\n  handleReportRender = (report) => {\r\n    // will be called when report renders:\r\n    // - visuals finish rendering\r\n    // - report is fully visible and ready for consumption\r\n\r\n    this.report = report; // get the report object from callback and store it.(optional)\r\n  };\r\n\r\n  handlePageChange = (data) => {\r\n    // will be called when pages in your report changes\r\n  };\r\n\r\n  handleTileClicked = async (data) => {\r\n    // console.log(\"Data from tile\", data);\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    this.setState({ freeze: 1 });\r\n  }\r\n  async componentDidMount() {\r\n    // all async requests here for POC , after this will be shifted to Services folder.\r\n\r\n    const employeeid = this.getUrlParameter(\"empid\");\r\n\r\n    const reportId = this.getUrlParameter(\"reportid\");\r\n    const userName = this.getUrlParameter(\"username\");\r\n    const tableName = this.getUrlParameter(\"tableName\");\r\n    const columnName = this.getUrlParameter(\"columnName\");\r\n    const AK = this.getUrlParameter(\"AK\");\r\n    // console.log(AK);\r\n\r\n    this.setState({\r\n      employeeid,\r\n      reportId,\r\n      userName,\r\n      tableName,\r\n      columnName,\r\n      AK,\r\n    });\r\n    try {\r\n      const { data: authenticationToken } = await this.getAuthenticationToken(\r\n        userName\r\n      );\r\n      this.setState({ authenticationToken });\r\n      const { data: apiResponse1 } = await this.getEmbedUrl();\r\n      const { embedUrl, datasetId } = apiResponse1;\r\n      this.setState({ embedUrl, datasetId });\r\n      const { data: apiResponse } = await this.getAuthorizationToken();\r\n      const { token: authorizationToken } = apiResponse;\r\n      this.setState({ authorizationToken });\r\n\r\n      const { data: data1 } = await this.getSubordinates();\r\n      const { data: data } = data1;\r\n      // console.log(data);\r\n      const lowerTrail = [];\r\n      const dt = [...data.employeeLowerTrail];\r\n      dt.forEach((ele) => {\r\n        lowerTrail.push(ele.EMPLOYEEID);\r\n      });\r\n      // console.log(dt);\r\n      this.setState({ subordinates: lowerTrail });\r\n\r\n      this.setState({ freeze: 0 });\r\n    } catch (err) {\r\n      if (err.response.status >= 400 && err.response.status < 500) {\r\n        Toastr.error(\"Invalid URL parameters...\");\r\n      } else {\r\n        Toastr.error(\"Sorry for the inconvenience...\");\r\n      }\r\n\r\n      // console.log(err.response);\r\n\r\n      return;\r\n    }\r\n  }\r\n  render() {\r\n    if (this.state.freeze == 1) {\r\n      return (\r\n        <img\r\n          src={\r\n            \"https://erp-reports.intermesh.net/PowerBI/static/media/loaderpreovp.17269b86.gif\"\r\n          }\r\n          style={{\r\n            position: \"absolute\",\r\n            left: \"50%\",\r\n            top: \"50%\",\r\n            transform: \"translate(-50%, -50%)\",\r\n          }}\r\n          alt=\"Loading....\"\r\n        />\r\n      );\r\n    } else {\r\n      const reportStyle = {\r\n        // style object for report component\r\n        width: \"100%\",\r\n        height: window.screen.height * 0.8,\r\n      };\r\n\r\n      const extraSettings = {\r\n        filterPaneEnabled: false, //true\r\n        navContentPaneEnabled: true, //true\r\n        hideErrors: false,\r\n        // Use this *only* when you want to override error experience i.e, use onError\r\n        // ... more custom settings\r\n      };\r\n\r\n      return (\r\n        <React.Fragment>\r\n          <Report\r\n            tokenType=\"Embed\" // \"Aad\"\r\n            accessToken={this.state.authorizationToken} // accessToken goes here\r\n            embedUrl={this.state.embedUrl} // embedUrl goes here\r\n            embedId={this.state.reportId} // report or dashboard Id goes here\r\n            // pageName=\"\" // set as current page of the report\r\n            reportMode=\"View\" // open report in a particular mode View/Edit/Create\r\n            datasetId={this.state.datasetId} // required for reportMode = \"Create\" and optional for dynamic databinding in `report` on `View` mode\r\n            // groupId={groupId} // optional. Used when reportMode = \"Create\" and to chose the target workspace when the dataset is shared.\r\n            extraSettings={extraSettings}\r\n            //permissions=\"All\" // View, For \"Edit\" mode permissions should be \"All\"\r\n            style={reportStyle}\r\n            onLoad={this.handleReportLoad}\r\n            onRender={this.handleReportRender} // not allowed in \"Create\" mode\r\n            onSelectData={this.handleDataSelected}\r\n            onPageChange={this.handlePageChange}\r\n            onTileClicked={this.handleTileClicked}\r\n            onSave={this.handleReportSave} // works for \"Edit\" and \"Create\"\r\n            onButtonClicked={(data) => {\r\n              if (data.type === \"Bookmark\") {\r\n                this.handleReportLoad(this.report);\r\n              }\r\n            }}\r\n          ></Report>\r\n        </React.Fragment>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nexport default ShowReport;\r\n","import { ArrowBackIosOutlined } from \"@material-ui/icons\";\r\nimport React, { Component } from \"react\";\r\n\r\nclass NotFound extends React.Component {\r\n  render() {\r\n    const styles = {\r\n      heading: {\r\n        position: \"absolute\",\r\n        top: \"20%\",\r\n        left: \"45%\",\r\n        fontStyle: \"italic\",\r\n      },\r\n    };\r\n    return (\r\n      <div style={styles.heading}>\r\n        <h1>Page Not Found</h1>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default NotFound;\r\n","import React, { useEffect } from \"react\";\r\nimport Home from \"./Home\";\r\nimport {\r\n  Route,\r\n  Switch,\r\n  Redirect,\r\n  useLocation,\r\n  useHistory,\r\n} from \"react-router-dom\";\r\nimport ShowReport from \"./ShowReport\";\r\nimport NotFound from \"./NotFound\";\r\n\r\nfunction App() {\r\n  const location = useLocation();\r\n  const history = useHistory();\r\n  useEffect(() => {\r\n    const query = new URLSearchParams(location.search);\r\n    if (query.get(\"W\")) {\r\n      history.push(\"/home?W=\" + query.get(\"W\"));\r\n    }\r\n  }, []);\r\n  return (\r\n    <div>\r\n      <Switch>\r\n        <Route\r\n          exact\r\n          path=\"/showreport\"\r\n          render={(props) => <ShowReport {...props} />}\r\n        />\r\n        <Route path=\"/home\" render={(props) => <Home {...props} />} />\r\n        <Route path=\"/\" />\r\n        <Route path=\"/not-found\" render={() => <NotFound />} />\r\n        {/* <Route path=\"/*\" component={() => <NotFound />} /> */}\r\n      </Switch>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport { BrowserRouter} from \"react-router-dom\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}